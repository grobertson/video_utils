#!/usr/bin/env python

from video_utils.comcut import comcut;

import argparse;                                                              # Import library for parsing
parser = argparse.ArgumentParser(description="comskip");           # Set the description of the script to be printed in the help doc, i.e., ./script -h
parser.add_argument("infile",                type   = str, help = "Input directory where all files to be converted are found"); 
parser.add_argument("--ini",                 type   = str,            help = "Output directory for transcoded files. Default: Same as input"); 
parser.add_argument("-T", "--threads",       type   = int,            help = "Set number of threads to use. Default: Half the number of threads available");  
parser.add_argument("-c", "--cpulimit",      type   = int,            help = "Set to limit CPU usage. Set to 0 to disable CPU limiting. Default is 75 percent per thread.");
parser.add_argument("-v", "--verbose",       action = "store_true",   help = "Increase verbosity");
args = parser.parse_args();                                                   # Parse the arguments
inst = comcut(
  ini       = args.ini,
  threads       = args.threads,
  cpulimit      = args.cpulimit,
  verbose       = args.verbose)

exit( inst.run( args.infile ) );  